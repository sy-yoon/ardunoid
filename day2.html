<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>아두이노이드 교실 1주차 2회차 교재</title>
    <style>
        body {
            font-family: 'Malgun Gothic', 'Apple SD Gothic Neo', sans-serif;
            line-height: 1.6;
            margin: 20px;
            padding: 20px;
            background-color: #f4f4f4;
            color: #333;
        }
        .container {
            max-width: 800px;
            margin: auto;
            background: #fff;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2c3e50;
            text-align: center;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
            margin-bottom: 30px;
        }
        h2 {
            color: #34495e;
            border-bottom: 1px solid #eee;
            padding-bottom: 5px;
            margin-top: 25px;
            margin-bottom: 15px;
        }
        h3 {
            color: #2980b9;
            margin-top: 20px;
            margin-bottom: 10px;
        }
        ul {
            list-style-type: disc;
            margin-left: 20px;
        }
        ol {
            list-style-type: decimal;
            margin-left: 20px;
        }
        b {
            color: #e74c3c; /* 강조 색상 */
        }
        pre {
            background-color: #ecf0f1;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            font-family: 'Consolas', 'Courier New', monospace;
            font-size: 0.9em;
            margin-bottom: 15px;
        }
        .note {
            background-color: #fdf6e3;
            border-left: 4px solid #f39c12;
            padding: 10px;
            margin: 15px 0;
        }
        .project-idea {
            background-color: #e8f6f3;
            border-left: 4px solid #1abc9c;
            padding: 10px;
            margin: 15px 0;
        }
        .task {
            background-color: #e0f2f7;
            border-left: 4px solid #3498db;
            padding: 10px;
            margin: 15px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>🚀 아두이노이드 교실 1주차 2회차 교재: 디지털 입력과 조건문, 반복문</h1>

        <hr>

        <h2>💡 오늘의 목표</h2>
        <ul>
            <li><b>버튼 스위치</b>를 아두이노에 연결하고 디지털 입력을 받아봐요.</li>
            <li><b>조건문(if, else if, else)</b>과 <b>반복문(for, while)</b>의 개념을 이해하고 활용해요.</li>
            <li>여러 개의 LED를 동시에 제어하는 방법을 배워요.</li>
            <li>배운 내용을 바탕으로 <b>'스마트 도어록'</b>을 만들어봐요!</li>
        </ul>

        <hr>

        <h2>🔍 1. 버튼 스위치: 아두이노에게 말 걸기</h2>
        <p>지난 시간에는 아두이노가 LED를 켜고 끄는 명령을 내리는 '출력'을 배웠어요. 이번에는 우리가 아두이노에게 신호를 보내는 '입력'을 배워볼 거예요. 바로 <b>버튼 스위치</b>를 이용해서 말이죠!</p>
        <p>버튼 스위치는 누르면 전기가 통하고, 떼면 전기가 끊어지는 아주 간단한 부품이에요. 아두이노는 이 버튼의 상태(눌렸는지, 안 눌렸는지)를 읽어서 우리가 원하는 대로 작동하게 할 수 있답니다.</p>

        <h3>풀업(Pull-up) 저항과 풀다운(Pull-down) 저항:</h3>
        <p>디지털 핀은 HIGH(높은 전압, 켜짐) 또는 LOW(낮은 전압, 꺼짐) 두 가지 상태만 읽을 수 있어요. 버튼 스위치를 연결할 때, 버튼이 눌리지 않았을 때 핀의 상태가 애매해지는 것을 막기 위해 <b>풀업 저항</b>이나 <b>풀다운 저항</b>을 사용해요.</p>
        <ul>
            <li><b>풀업 저항</b>: 핀을 항상 HIGH 상태로 유지하다가, 버튼이 눌리면 LOW로 바뀌게 해요. (우리가 사용할 방식)</li>
            <li><b>풀다운 저항</b>: 핀을 항상 LOW 상태로 유지하다가, 버튼이 눌리면 HIGH로 바뀌게 해요.</li>
        </ul>

        <hr>

        <h2>🛠️ 2. 여러 개의 LED 제어하기</h2>
        <p>스마트 도어록을 만들려면 여러 개의 LED가 필요해요. 예를 들어, 비밀번호가 맞으면 초록색 LED, 틀리면 빨간색 LED를 켜야겠죠? 여러 개의 LED를 제어하는 것은 아주 쉬워요. 각각의 LED를 다른 디지털 핀에 연결하고, 코드로 각 핀을 따로 제어하면 된답니다.</p>

        <h3>준비물:</h3>
        <ul>
            <li>아두이노 우노 보드</li>
            <li>USB 케이블</li>
            <li>브레드보드</li>
            <li>점퍼선 (수-수)</li>
            <li>LED 2개 (빨간색, 초록색)</li>
            <li>저항 2개 (220옴 또는 330옴)</li>
            <li>푸쉬 버튼 스위치 1개</li>
        </ul>

        <h3>회로 연결:</h3>
        <ol>
            <li><b>빨간색 LED 연결</b>:
                <ul>
                    <li>빨간색 LED의 긴 다리(+)를 저항에 연결하고, 저항의 다른 쪽 다리를 아두이노 <b>디지털 핀 9번</b>에 연결해요.</li>
                    <li>빨간색 LED의 짧은 다리(-)를 아두이노 <b>GND 핀</b>에 연결해요.</li>
                </ul>
            </li>
            <li><b>초록색 LED 연결</b>:
                <ul>
                    <li>초록색 LED의 긴 다리(+)를 저항에 연결하고, 저항의 다른 쪽 다리를 아두이노 <b>디지털 핀 8번</b>에 연결해요.</li>
                    <li>초록색 LED의 짧은 다리(-)를 아두이노 <b>GND 핀</b>에 연결해요.</li>
                </ul>
            </li>
            <li><b>푸쉬 버튼 스위치 연결</b>:
                <ul>
                    <li>버튼 한쪽 다리를 아두이노 <b>디지털 핀 2번</b>에 연결해요.</li>
                    <li>버튼의 같은 쪽 다른 다리를 <b>5V 핀</b>에 연결해요.</li>
                    <li>버튼의 반대쪽 다리 중 하나를 <b>10K옴 저항</b>에 연결하고, 저항의 다른 쪽을 <b>GND 핀</b>에 연결해요. (이것이 풀업 저항 역할을 해요)</li>
                    <li>버튼의 반대쪽 다리 중 남은 하나는 아무것도 연결하지 않아요.</li>
                </ul>
            </li>
        </ol>
        <p><i>(이 부분에는 아두이노 9번, 8번 핀에 각각 LED와 저항이 연결되고, 2번 핀에 푸쉬 버튼 스위치와 풀업 저항이 연결된 회로도 이미지를 넣어주시면 좋습니다.)</i></p>

        <hr>

        <h2>✍️ 3. 조건문과 반복문: 코딩의 논리 만들기</h2>
        <h3>조건문 (if, else if, else):</h3>
        <p>우리가 "만약 ~라면, 이렇게 해라. 그렇지 않으면 저렇게 해라." 라고 말하는 것처럼, 코딩에서도 특정 조건에 따라 다른 동작을 하게 할 수 있어요.</p>
        <pre><code>if (조건) {
  // 조건이 참일 때 실행되는 코드
} else if (다른 조건) {
  // 첫 번째 조건이 거짓이고, 다른 조건이 참일 때 실행되는 코드
} else {
  // 모든 조건이 거짓일 때 실행되는 코드
}</code></pre>

        <h3>반복문 (for, while):</h3>
        <p>지난 시간에 `for` 문을 사용해 봤죠? `for` 문은 정해진 횟수만큼 반복할 때 유용하고, `while` 문은 특정 조건이 만족하는 동안 계속 반복할 때 유용해요.</p>
        <pre><code>// for 반복문 (예: 5번 반복)
for (int i = 0; i &lt; 5; i++) {
  // 이 코드는 5번 반복됩니다.
}

// while 반복문 (예: 버튼이 눌릴 때까지 반복)
while (digitalRead(2) == LOW) { // 2번 핀의 버튼이 눌리지 않은 동안 (LOW)
  // 이 코드는 버튼이 눌릴 때까지 계속 반복됩니다.
}</code></pre>

        <hr>

        <h2>🔑 4. 프로젝트: 나만의 스마트 도어록 만들기</h2>
        <h3>아이디어:</h3>
        <ol>
            <li>버튼을 누르면 비밀번호 입력 모드가 시작돼요.</li>
            <li>미리 정해둔 비밀번호(예: 버튼을 3번 누르기)와 일치하면 초록색 LED가 켜져요.</li>
            <li>비밀번호가 틀리거나, 정해진 횟수를 초과하면 빨간색 LED가 켜져요.</li>
            <li>비밀번호가 맞으면 잠시 후 다시 잠금 상태로 돌아가요.</li>
        </ol>

        <h3>코딩하기:</h3>
        <p>아래 코드를 아두이노 IDE에 붙여 넣고 업로드해 보세요.</p>
        <pre><code>// 핀 번호 정의
const int BUTTON_PIN = 2;    // 버튼이 연결된 핀
const int GREEN_LED_PIN = 8; // 초록색 LED가 연결된 핀
const int RED_LED_PIN = 9;   // 빨간색 LED가 연결된 핀

// 비밀번호 설정 (예: 3번 누르기)
const int PASSWORD_COUNT = 3;
int buttonPressCount = 0; // 버튼이 눌린 횟수를 저장할 변수

void setup() {
  pinMode(BUTTON_PIN, INPUT); // 버튼 핀을 입력으로 설정 (외부 풀업 저항 사용)
  pinMode(GREEN_LED_PIN, OUTPUT);    // 초록색 LED 핀을 출력으로 설정
  pinMode(RED_LED_PIN, OUTPUT);      // 빨간색 LED 핀을 출력으로 설정

  Serial.begin(9600); // 시리얼 통신 시작 (컴퓨터로 메시지 보내기 위함)
  Serial.println("스마트 도어록 준비 완료!");
  Serial.println("버튼을 눌러 비밀번호를 입력하세요.");

  digitalWrite(GREEN_LED_PIN, LOW); // 시작 시 LED 모두 끄기
  digitalWrite(RED_LED_PIN, LOW);
}

void loop() {
  // 버튼이 눌렸는지 확인 (버튼이 눌리면 LOW 상태가 됨)
  if (digitalRead(BUTTON_PIN) == LOW) {
    delay(50); // 버튼 바운싱 방지 (짧은 시간 기다리기)

    // 버튼이 계속 눌려있는지 다시 확인 (정확한 한 번의 누름을 위함)
    if (digitalRead(BUTTON_PIN) == LOW) {
      buttonPressCount++; // 버튼 눌린 횟수 증가
      Serial.print("버튼 눌림 횟수: ");
      Serial.println(buttonPressCount);

      // 비밀번호 횟수와 일치하는지 확인
      if (buttonPressCount == PASSWORD_COUNT) {
        Serial.println("비밀번호 일치! 문이 열립니다.");
        digitalWrite(GREEN_LED_PIN, HIGH); // 초록색 LED 켜기
        digitalWrite(RED_LED_PIN, LOW);    // 빨간색 LED 끄기
        delay(3000); // 3초 동안 문 열림 상태 유지
        digitalWrite(GREEN_LED_PIN, LOW); // 문 다시 잠김 (LED 끄기)
        buttonPressCount = 0; // 횟수 초기화
        Serial.println("문이 다시 잠겼습니다.");
        Serial.println("버튼을 눌러 비밀번호를 입력하세요.");
      } else if (buttonPressCount > PASSWORD_COUNT) {
        Serial.println("비밀번호 오류! 횟수 초과!");
        digitalWrite(RED_LED_PIN, HIGH); // 빨간색 LED 켜기
        digitalWrite(GREEN_LED_PIN, LOW); // 초록색 LED 끄기
        delay(3000); // 3초 동안 오류 상태 유지
        digitalWrite(RED_LED_PIN, LOW); // LED 끄기
        buttonPressCount = 0; // 횟수 초기화
        Serial.println("문이 다시 잠겼습니다.");
        Serial.println("버튼을 눌러 비밀번호를 입력하세요.");
      }
    }
    // 버튼이 눌린 후 손가락을 뗄 때까지 기다리기
    while (digitalRead(BUTTON_PIN) == LOW) {
      delay(10);
    }
  }
}</code></pre>

        <h3>새로운 코드 설명:</h3>
        <ul>
            <li>`const int`: 변하지 않는 상수를 정의할 때 사용해요. 핀 번호처럼 고정된 값에 사용하면 좋아요.</li>
            <li>`INPUT`: 외부 회로에 연결된 센서나 버튼에서 디지털 값을 읽어올 때 사용하는 모드예요. (만약 아두이노 보드 내부의 풀업 저항을 사용하려면 `INPUT_PULLUP`으로 설정하고 버튼 연결 방식을 변경해야 하지만, 이 교재에서는 외부 풀업 저항을 사용하는 회로도에 맞춰 `INPUT`을 사용해요.)</li>
            <li>`Serial.begin(9600)`: 아두이노가 컴퓨터(시리얼 모니터)로 메시지를 보낼 수 있도록 통신을 시작하는 명령어예요. `9600`은 통신 속도를 의미해요.</li>
            <li>`Serial.println()`: 괄호 안의 내용을 컴퓨터의 시리얼 모니터에 출력하고 다음 줄로 넘어가요.</li>
            <li>`digitalRead(핀번호)`: 디지털 핀의 상태(HIGH 또는 LOW)를 읽어오는 함수예요.</li>
            <li>`buttonPressCount++`: `buttonPressCount = buttonPressCount + 1;`과 같은 의미로, 변수의 값을 1 증가시켜요.</li>
            <li>`delay(50)`: <b>디바운싱(Debouncing)</b>을 위한 코드예요. 버튼은 한 번 눌러도 기계적인 진동 때문에 여러 번 눌린 것처럼 인식될 수 있어요. 짧은 시간(50밀리초) 동안 기다려서 이런 오작동을 막아준답니다.</li>
        </ul>

        <h3>결과 확인:</h3>
        <ol>
            <li>아두이노 IDE의 오른쪽 위에 있는 <b>시리얼 모니터</b> 아이콘을 클릭해서 창을 열어요.</li>
            <li>버튼을 누를 때마다 시리얼 모니터에 "버튼 눌림 횟수: X" 가 표시되는지 확인해요.</li>
            <li>버튼을 `PASSWORD_COUNT` (예: 3번)만큼 정확히 누르면 초록색 LED가 켜지고 잠시 후 꺼지는지 확인해요.</li>
            <li>버튼을 `PASSWORD_COUNT`보다 많이 누르면 빨간색 LED가 켜지고 잠시 후 꺼지는지 확인해요.</li>
        </ol>

        <hr>

        <h2>🌟 스스로 해보기!</h2>
        <ul>
            <li><b>비밀번호 변경</b>: `PASSWORD_COUNT` 값을 바꿔서 비밀번호를 더 길게 또는 짧게 만들어 보세요.</li>
            <li><b>비밀번호 초기화 버튼 추가</b>: 새로운 버튼을 하나 더 연결해서, 이 버튼을 누르면 `buttonPressCount`를 `0`으로 초기화하는 기능을 추가해 보세요. (힌트: `if` 문과 `digitalRead` 사용)</li>
            <li><b>비밀번호 입력 시간 제한</b>: 버튼을 처음 누른 후 일정 시간(예: 5초) 안에 비밀번호를 입력하지 않으면 자동으로 오류 처리되게 만들어 보세요. (힌트: `millis()` 함수를 이용한 시간 측정)</li>
        </ul>

        <hr>

        <h2>❓ 궁금증 해결 시간</h2>
        <p>오늘 배운 내용 중에 궁금한 점이 있나요? 무엇이든 질문해주세요!</p>

        <hr>

        <p>오늘 스마트 도어록 프로젝트를 통해 아두이노가 어떻게 우리의 입력을 받아들이고, 조건에 따라 다르게 행동하는지 알게 되었죠? 코딩으로 복잡한 논리를 만들 수 있다는 것이 정말 멋지지 않나요? 다음 시간에는 빛, 소리, 움직임을 감지하는 다양한 센서들을 배우고 활용해 볼 거예요. 오늘 배운 내용을 잘 복습하고, 스스로 해보기 미션도 꼭 도전해 보세요!</p>
    </div>
</body>
</html>
