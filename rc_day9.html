<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>아두이노 RC카 교실 9주차 교재: RC카에 정보 표시하기 - 'LCD 모듈' 추가</title>
    <style>
        body {
            font-family: 'Malgun Gothic', 'Apple SD Gothic Neo', sans-serif;
            line-height: 1.6;
            margin: 20px;
            padding: 20px;
            background-color: #f8f8f8;
            color: #333;
        }
        .container {
            max-width: 900px;
            margin: auto;
            background: #fff;
            padding: 30px 40px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2c3e50;
            text-align: center;
            border-bottom: 3px solid #3498db;
            padding-bottom: 15px;
            margin-bottom: 40px;
            font-size: 2.2em;
        }
        h2 {
            color: #34495e;
            border-bottom: 2px solid #eee;
            padding-bottom: 8px;
            margin-top: 35px;
            margin-bottom: 20px;
            font-size: 1.8em;
        }
        h3 {
            color: #2980b9;
            margin-top: 25px;
            margin-bottom: 12px;
            font-size: 1.4em;
        }
        h4 {
            color: #1a5276;
            margin-top: 15px;
            margin-bottom: 8px;
            font-size: 1.1em;
        }
        ul {
            list-style-type: disc;
            margin-left: 25px;
            margin-bottom: 15px;
        }
        ol {
            list-style-type: decimal;
            margin-left: 25px;
            margin-bottom: 15px;
        }
        b {
            color: #e74c3c; /* 강조 색상 */
            font-weight: bold;
        }
        .highlight {
            background-color: #eaf6ff;
            padding: 2px 5px;
            border-radius: 3px;
        }
        pre {
            background-color: #ecf0f1;
            padding: 18px;
            border-radius: 8px;
            overflow-x: auto;
            font-family: 'Consolas', 'Courier New', monospace;
            font-size: 0.95em;
            margin-bottom: 20px;
            border: 1px solid #c0d8e8;
        }
        code {
            font-family: 'Consolas', 'Courier New', monospace;
            background-color: #e0e0e0;
            padding: 2px 4px;
            border-radius: 3px;
        }
        .note {
            background-color: #fdf6e3;
            border-left: 5px solid #f39c12;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }
        .project-idea {
            background-color: #e8f6f3;
            border-left: 5px solid #1abc9c;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }
        .task {
            background-color: #e0f2f7;
            border-left: 5px solid #3498db;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }
        .image-container {
            text-align: center;
            margin: 30px 0;
        }
        .image-container img {
            max-width: 90%;
            height: auto;
            border: 1px solid #ddd;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }
        .caution {
            color: #c0392b;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>🚀 아두이노 RC카 교실 9주차 교재: RC카에 정보 표시하기 - 'LCD 모듈' 추가</h1>

        <hr>

        <h2>💡 이번 주 학습 목표</h2>
        <ul>
            <li>**LCD(Liquid Crystal Display) 모듈**의 기본 원리와 종류를 이해해요.</li>
            <li>RC카 프로젝트에 주로 사용되는 **I2C LCD 모듈**을 아두이노에 연결하는 방법을 익혀요.</li>
            <li>아두이노 코드를 통해 LCD에 원하는 텍스트나 숫자, 센서 값 등을 출력하는 방법을 배워요.</li>
            <li>RC카의 현재 상태(예: 주행 모드, 감지 거리)를 LCD를 통해 사용자에게 보여주는 기능을 구현해요.</li>
        </ul>

        <hr>

        <h2>1회차: I2C LCD 모듈 이해 및 회로 연결</h2>

        <h3>🔍 1. LCD 모듈이란?</h3>
        <p>**LCD(Liquid Crystal Display)**는 문자나 그림을 표시해주는 화면 장치예요. 아두이노 프로젝트에서는 센서 값, 타이머, 상태 메시지 등을 사용자에게 시각적으로 보여주는 데 많이 사용됩니다.</p>
        <p>일반적인 16x2 또는 20x4 LCD 모듈은 아두이노와 연결할 때 여러 개의 핀(최대 16개)이 필요해서 연결이 복잡하고 아두이노의 디지털 핀을 많이 차지한다는 단점이 있어요.</p>
        <p>이를 해결하기 위해 등장한 것이 바로 **I2C 변환 모듈이 부착된 LCD**예요.</p>
        <div class="image-container">
            <img src="lcd_1602_without_i2c.png" alt="일반 16x2 LCD 모듈">
            <p><i>(일반 16x2 LCD 모듈의 이미지. 여러 개의 핀이 노출되어 복잡해 보이는 모습)</i></p>
        </div>

        <h3>🔍 2. I2C LCD 모듈의 장점</h3>
        <p>**I2C (Inter-Integrated Circuit)**는 두 개의 선(SDA: 데이터 선, SCL: 클럭 선)만으로 여러 개의 장치와 통신할 수 있는 통신 방식이에요. I2C 변환 모듈이 LCD 뒤에 붙어 있으면, 복잡한 LCD 핀들을 아두이노의 I2C 핀 2개(총 4개 핀 필요: VCC, GND, SDA, SCL)만으로 제어할 수 있게 되어 회로 연결이 훨씬 간단해지고, 아두이노의 다른 핀들을 자유롭게 활용할 수 있게 됩니다.</p>
        <div class="image-container">
            <img src="lcd_1602_with_i2c.png" alt="I2C LCD 모듈">
            <p><i>(I2C 변환 모듈이 부착된 16x2 LCD 모듈의 이미지. 핀이 4개만 나와있는 모습)</i></p>
        </div>
        <h4>I2C LCD 모듈의 주요 특징:</h4>
        <ul>
            <li>**핀 개수 절약:** 아두이노 아날로그 핀 4번(SDA)과 5번(SCL)을 사용하여 단 2개의 통신 핀으로 LCD를 제어합니다. (전원 포함 총 4개 핀)</li>
            <li>**간단한 배선:** 복잡한 배선 없이 쉽고 빠르게 연결할 수 있습니다.</li>
            <li>**주소 기반 통신:** 하나의 I2C 버스에 여러 개의 I2C 장치를 연결할 수 있습니다. (각 장치는 고유한 주소를 가짐)</li>
        </ul>

        <h3>⚙️ 3. I2C LCD 모듈 회로 연결하기</h3>
        <p>RC카에 LCD를 달기 전에, 먼저 LCD 모듈이 제대로 작동하는지 확인해 볼게요.</p>
        <h4>준비물:</h4>
        <ul>
            <li>아두이노 우노 보드</li>
            <li>**I2C 변환 모듈이 부착된 16x2 또는 20x4 LCD 모듈**</li>
            <li>점퍼선 (수-수)</li>
        </ul>
        <h4>회로 연결 순서:</h4>
        <ol>
            <li>**LCD 전원 연결**:
                <ul>
                    <li>LCD 모듈의 **VCC 핀**을 아두이노의 **5V 핀**에 연결합니다.</li>
                    <li>LCD 모듈의 **GND 핀**을 아두이노의 **GND 핀**에 연결합니다.</li>
                </ul>
            </li>
            <li>**LCD I2C 통신 연결**:
                <ul>
                    <li>LCD 모듈의 **SDA 핀**을 아두이노의 **A4 (SDA)** 핀에 연결합니다.</li>
                    <li>LCD 모듈의 **SCL 핀**을 아두이노의 **A5 (SCL)** 핀에 연결합니다.</li>
                </ul>
            </li>
        </ol>
        <div class="image-container">
            <img src="arduino_i2c_lcd_circuit.png" alt="아두이노 I2C LCD 모듈 연결 회로도">
            <p><i>(아두이노 우노와 I2C LCD 모듈이 4개의 핀(VCC, GND, SDA, SCL)으로 연결된 정확한 회로도 이미지를 삽입해 주세요. A4, A5 핀 연결을 명확히 보여주세요.)</i></p>
        </div>
        <p class="caution"><b>주의!</b> 일부 아두이노 호환 보드나 다른 아두이노 모델(예: Mega)은 I2C 핀 위치가 다를 수 있습니다. 아두이노 우노는 **A4(SDA)**, **A5(SCL)** 핀을 사용합니다. 회로 연결 시 LCD 모듈의 백라이트와 글자 선명도를 조절하는 작은 가변 저항(포텐시오미터)이 있을 수 있습니다. 전원을 연결한 후 드라이버로 조절하여 글자가 잘 보이도록 설정해 주세요.</p>

        <h3>📝 4. 코딩하기: LCD에 텍스트 출력하기</h3>
        <p>I2C LCD를 제어하기 위해서는 <code>LiquidCrystal_I2C</code> 라이브러리가 필요해요. 이 라이브러리가 없다면 아두이노 IDE의 "스케치 > 라이브러리 포함하기 > 라이브러리 관리..." 에서 "LiquidCrystal I2C"를 검색하여 설치해 주세요.</p>
        <pre><code class="language-cpp">// 아두이노 RC카 교실 - 9주차 1회차: I2C LCD 모듈 테스트 예제

// LiquidCrystal_I2C 라이브러리 포함
#include &lt;LiquidCrystal_I2C.h&gt;

// LCD 객체 생성
// LiquidCrystal_I2C(LCD 주소, 가로 문자 수, 세로 줄 수)
// LCD 주소는 모듈마다 다를 수 있으며, 보통 0x27 또는 0x3F 입니다.
// 아래 스케치로 주소를 찾을 수 있습니다.
LiquidCrystal_I2C lcd(0x27, 16, 2); // 16x2 LCD, 주소는 0x27 가정

void setup() {
  Serial.begin(9600);
  Serial.println("LCD 테스트 시작!");

  // LCD 초기화
  lcd.init();      
  // LCD 백라이트 켜기 (대부분의 모듈에서 필요)
  lcd.backlight(); 

  // 첫 번째 줄에 메시지 출력
  lcd.setCursor(0, 0); // (열, 행) 설정: 0열, 0행 (첫 번째 줄의 시작)
  lcd.print("Hello, RC Car!");

  // 두 번째 줄에 메시지 출력
  lcd.setCursor(0, 1); // 0열, 1행 (두 번째 줄의 시작)
  lcd.print("Arduino Class!");
}

void loop() {
  // 간단한 카운터 표시
  static int counter = 0; // static 변수는 한 번만 초기화되고 값을 유지
  lcd.setCursor(12, 1); // 두 번째 줄의 12번째 열 (총 16칸 중)
  lcd.print(counter);
  delay(1000); // 1초마다 업데이트
  counter++;

  // 카운터가 99를 넘으면 0으로 리셋 (LCD 칸수에 맞추기 위해)
  if (counter &gt; 99) {
    counter = 0;
    lcd.setCursor(12, 1);
    lcd.print("  "); // 이전 숫자 지우기
  }
}
</code></pre>
        <h4>I2C LCD 주소 찾기 스케치:</h4>
        <p>만약 LCD에 아무것도 표시되지 않거나 오류가 발생한다면, LCD 모듈의 I2C 주소가 0x27이 아닐 수 있어요. 아래 코드를 업로드하고 시리얼 모니터로 정확한 주소를 찾은 다음, 위 코드의 <code>LiquidCrystal_I2C lcd(0x27, 16, 2);</code> 부분의 0x27을 찾은 주소로 변경해 주세요.</p>
        <pre><code class="language-cpp">// 아두이노 RC카 교실 - I2C 스캐너 (LCD 주소 찾기용)

#include &lt;Wire.h&gt; // I2C 통신을 위한 Wire 라이브러리 포함

void setup() {
  Serial.begin(9600);
  while (!Serial); // 시리얼 연결 대기 (일부 보드에서만 필요)

  Serial.println("\nI2C Scanner");
  Wire.begin(); // I2C 통신 시작
}

void loop() {
  byte error, address;
  int nDevices;

  Serial.println("Scanning...");

  nDevices = 0;
  for(address = 1; address &lt; 127; address++ ) {
    // I2C 장치가 해당 주소에 응답하는지 확인
    Wire.beginTransmission(address);
    error = Wire.endTransmission();

    if (error == 0) {
      Serial.print("I2C device found at address 0x");
      if (address&lt;16) 
        Serial.print("0");
      Serial.print(address, HEX); // 16진수 형태로 주소 출력
      Serial.println("  !");

      nDevices++;
    } else if (error == 4) {
      Serial.print("Unknown error at address 0x");
      if (address&lt;16) 
        Serial.println(address, HEX);
    }    
  }
  if (nDevices == 0)
    Serial.println("No I2C devices found\n");
  else
    Serial.println("done\n");

  delay(5000); // 5초마다 다시 스캔
}
</code></pre>
        <h4>코딩 용어 상세 설명:</h4>
        <ul>
            <li><span class="highlight"><code>#include &lt;LiquidCrystal_I2C.h&gt;</code></span>: I2C LCD를 제어하기 위한 라이브러리를 불러옵니다.</li>
            <li><span class="highlight"><code>LiquidCrystal_I2C lcd(0x27, 16, 2);</code></span>: <code>LiquidCrystal_I2C</code> 클래스의 객체 <code>lcd</code>를 생성합니다.
                <ul>
                    <li><code>0x27</code>: LCD 모듈의 I2C 주소입니다. (가장 흔한 주소, 다를 수 있음)</li>
                    <li><code>16</code>: LCD의 가로 문자 수입니다. (16칸)</li>
                    <li><code>2</code>: LCD의 세로 줄 수입니다. (2줄)</li>
                </ul>
            </li>
            <li><span class="highlight"><code>lcd.init();</code></span>: LCD 모듈을 초기화합니다. 반드시 <code>setup()</code> 함수에서 한 번 호출해야 합니다.</li>
            <li><span class="highlight"><code>lcd.backlight();</code></span>: LCD 백라이트를 켭니다. 백라이트를 끄려면 <code>lcd.noBacklight();</code>를 사용합니다.</li>
            <li><span class="highlight"><code>lcd.setCursor(열, 행);</code></span>: LCD 화면에서 텍스트를 출력할 위치를 지정합니다. **열**은 0부터 시작하고, **행**도 0부터 시작합니다. (예: <code>(0, 0)</code>은 첫 번째 줄의 첫 번째 칸)</li>
            <li><span class="highlight"><code>lcd.print("문자열");</code></span>: 지정된 커서 위치부터 문자열을 LCD에 출력합니다. 숫자나 변수도 출력할 수 있습니다.</li>
            <li><span class="highlight"><code>lcd.clear();</code></span>: LCD 화면에 표시된 모든 내용을 지웁니다.</li>
        </ul>

        <h3>✅ 5. 결과 확인</h3>
        <ol>
            <li>회로를 정확히 연결하고, I2C LCD 주소 스캐너로 LCD의 주소를 확인합니다.</li>
            <li><code>LiquidCrystal_I2C</code> 라이브러리를 설치하고, 찾은 주소로 예제 코드의 LCD 객체 생성 부분을 수정합니다.</li>
            <li>예제 코드를 아두이노에 업로드합니다.</li>
            <li>LCD에 "Hello, RC Car!"와 "Arduino Class!" 메시지가 표시되고, 두 번째 줄의 카운터 숫자가 1초마다 증가하는지 확인합니다.</li>
            <li>LCD 모듈의 가변 저항을 돌려 글자의 선명도를 조절해 보세요.</li>
        </ol>
        <div class="project-idea">
            <h4>⭐ 스스로 해보기!</h4>
            <ul>
                <li>LCD에 여러분의 이름이나 좋아하는 문구를 출력해 보세요.</li>
                <li>카운터 숫자가 1초가 아니라 0.5초마다 증가하도록 수정해 보세요.</li>
                <li>버튼을 누를 때마다 LCD의 메시지가 바뀌도록 코드를 추가해 보세요.</li>
            </ul>
        </div>

        <hr>
        <br>

        <h2>2회차: RC카에 LCD 정보 표시 기능 추가</h2>

        <h3>🤖 1. RC카에 LCD 모듈 통합하기</h3>
        <p>이제 RC카에 LCD 모듈을 연결하여 RC카의 현재 상태를 표시해 볼 거예요. 핀 연결은 1회차에서 배운 대로 아두이노의 A4(SDA)와 A5(SCL) 핀을 사용하므로, 기존 모터 드라이버나 센서들과 핀 충돌 없이 연결할 수 있습니다.</p>
        <h4>라인 트레이서 RC카에 LCD 추가 시나리오:</h4>
        <ul>
            <li>RC카가 직진 중일 때는 "Mode: Go Straight" 표시</li>
            <li>왼쪽으로 회전할 때는 "Mode: Turn Left" 표시</li>
            <li>오른쪽으로 회전할 때는 "Mode: Turn Right" 표시</li>
            <li>선을 잃었을 때는 "Mode: Searching..." 표시</li>
        </ul>
        <p class="note"><b>참고:</b> LCD 모듈은 소모 전력이 비교적 적지만, 너무 많은 주변 장치를 아두이노 5V 핀에 직접 연결하면 전원 부족 현상이 발생할 수 있습니다. 모터 드라이버는 자체 외부 전원을 사용하므로 큰 문제는 없지만, 여러 센서와 모듈을 동시에 사용하는 경우 전원 분배에 유의해야 합니다.</p>

        <h3>⚙️ 2. 통합 회로 연결: 라인 트레이서 RC카 + LCD</h3>
        <p>8주차 라인 트레이서 RC카 회로에 I2C LCD 모듈을 추가합니다. </p>
        <h4>회로 연결 순서 (8주차 2회차 회로에 추가):</h4>
        <ol>
            <li>**LCD 전원 연결**:
                <ul>
                    <li>LCD 모듈의 **VCC 핀**을 아두이노의 **5V 핀**에 연결합니다.</li>
                    <li>LCD 모듈의 **GND 핀**을 아두이노의 **GND 핀**에 연결합니다.</li>
                </ul>
            </li>
            <li>**LCD I2C 통신 연결**:
                <ul>
                    <li>LCD 모듈의 **SDA 핀**을 아두이노의 **A4 (SDA)** 핀에 연결합니다.</li>
                    <li>LCD 모듈의 **SCL 핀**을 아두이노의 **A5 (SCL)** 핀에 연결합니다.</li>
                </ul>
            </li>
            <li>나머지 L298N 모터 드라이버와 3개 라인 트레이서 센서는 8주차 2회차와 동일하게 연결합니다.</li>
        </ol>
        <div class="image-container">
            <img src="arduino_rc_car_line_follower_lcd_full_circuit.png" alt="아두이노 RC카 라인 트레이서 LCD 통합 회로도">
            <p><i>(8주차 라인 트레이서 RC카 회로에 I2C LCD 모듈이 추가된 통합 회로도 이미지를 삽입해 주세요. A4, A5 핀 연결 및 전체적인 부품 배치를 명확히 보여주세요.)</i></p>
        </div>
        <p class="caution"><b>주의!</b> 물리적으로 LCD 모듈을 RC카에 부착할 때는 주행 중 흔들리거나 떨어지지 않도록 단단히 고정해야 합니다. (케이블 타이, 양면테이프 등 활용)</p>

        <h3>📝 3. 코딩하기: RC카 상태 LCD에 표시</h3>
        <p>8주차의 라인 트레이서 코드를 수정하여 RC카의 현재 주행 상태를 LCD에 표시하도록 할게요. 센서 값을 읽어 주행 명령을 내릴 때마다 LCD 메시지를 업데이트하는 방식입니다.</p>
        <pre><code class="language-cpp">// 아두이노 RC카 교실 - 9주차 2회차: RC카 라인 트레이서 + LCD 정보 표시

// LiquidCrystal_I2C 라이브러리 포함
#include &lt;LiquidCrystal_I2C.h&gt;

// LCD 객체 생성 (1회차에서 찾은 주소 사용)
LiquidCrystal_I2C lcd(0x27, 16, 2); // 16x2 LCD, 주소는 0x27 가정

// ======= 모터 드라이버 핀 설정 (8주차 2회차와 동일) =======
const int motor1_IN1 = 7; 
const int motor1_IN2 = 6;
const int motor1_ENA = 9;  // PWM 핀

const int motor2_IN3 = 5;
const int motor2_IN4 = 4;
const int motor2_ENB = 10; // PWM 핀

int motorSpeed = 150; // RC카 주행 속도 (0~255)

// ======= 라인 트레이서 센서 핀 설정 (8주차 2회차와 동일) =======
const int LEFT_SENSOR_PIN   = 2; 
const int CENTER_SENSOR_PIN = 3;
const int RIGHT_SENSOR_PIN  = 4;

const int BLACK = LOW;  // 1회차 테스트 후 정확히 설정
const int WHITE = HIGH; // 1회차 테스트 후 정확히 설정

void setup() {
  Serial.begin(9600);
  Serial.println("RC카 라인 트레이서 + LCD 주행 시작!");

  // LCD 초기화 및 백라이트 켜기
  lcd.init();      
  lcd.backlight(); 
  lcd.setCursor(0,0);
  lcd.print("RC Car Active!");
  lcd.setCursor(0,1);
  lcd.print("Mode: Ready");
  delay(2000); // 2초간 초기 메시지 표시

  // 모터 핀 설정
  pinMode(motor1_IN1, OUTPUT);
  pinMode(motor1_IN2, OUTPUT);
  pinMode(motor1_ENA, OUTPUT);
  pinMode(motor2_IN3, OUTPUT);
  pinMode(motor2_IN4, OUTPUT);
  pinMode(motor2_ENB, OUTPUT);
  stopMotors(); // 초기 모터 정지

  // 라인 트레이서 센서 핀 모드 설정
  pinMode(LEFT_SENSOR_PIN, INPUT);
  pinMode(CENTER_SENSOR_PIN, INPUT);
  pinMode(RIGHT_SENSOR_PIN, INPUT);
}

void loop() {
  int leftSensor   = digitalRead(LEFT_SENSOR_PIN);
  int centerSensor = digitalRead(CENTER_SENSOR_PIN);
  int rightSensor  = digitalRead(RIGHT_SENSOR_PIN);

  // 시리얼 모니터로 센서 상태 확인 (디버깅용)
  Serial.print("L: "); Serial.print(leftSensor);
  Serial.print(" | C: "); Serial.print(centerSensor);
  Serial.print(" | R: "); Serial.print(rightSensor);
  
  // 라인 트레이싱 로직 및 LCD 업데이트
  if (centerSensor == BLACK) { // 중앙 센서가 검은 선을 감지
    moveForward(); // 직진
    updateLcdStatus("Go Straight"); // LCD 업데이트
    Serial.println(" -&gt; 직진");
  } else if (leftSensor == BLACK) { // 왼쪽 센서가 검은 선을 감지 (선을 왼쪽으로 이탈)
    turnRight(); // 오른쪽으로 회전하여 선을 찾음
    updateLcdStatus("Turn Right"); // LCD 업데이트
    Serial.println(" -&gt; 우회전 (왼쪽 이탈)");
  } else if (rightSensor == BLACK) { // 오른쪽 센서가 검은 선을 감지 (선을 오른쪽으로 이탈)
    turnLeft(); // 왼쪽으로 회전하여 선을 찾음
    updateLcdStatus("Turn Left"); // LCD 업데이트
    Serial.println(" -&gt; 좌회전 (오른쪽 이탈)");
  } else { // 모든 센서가 흰색 바닥을 감지 (선을 잃었을 때)
    stopMotors(); // 정지 (테스트용)
    updateLcdStatus("Searching..."); // LCD 업데이트
    Serial.println(" -&gt; 선을 잃음 (정지)");
  }
  delay(10); // 센서 값 읽고 제어하는 주기
}

// RC카 전진 함수
void moveForward() {
  digitalWrite(motor1_IN1, HIGH);
  digitalWrite(motor1_IN2, LOW);
  analogWrite(motor1_ENA, motorSpeed);

  digitalWrite(motor2_IN3, HIGH); 
  digitalWrite(motor2_IN4, LOW);
  analogWrite(motor2_ENB, motorSpeed);
}

// RC카 정지 함수
void stopMotors() {
  digitalWrite(motor1_IN1, LOW);
  digitalWrite(motor1_IN2, LOW);
  analogWrite(motor1_ENA, 0); 

  digitalWrite(motor2_IN3, LOW);
  digitalWrite(motor2_IN4, LOW);
  analogWrite(motor2_ENB, 0); 
}

// RC카 왼쪽으로 회전 함수
void turnLeft() {
  digitalWrite(motor1_IN1, LOW); 
  digitalWrite(motor1_IN2, HIGH);
  analogWrite(motor1_ENA, motorSpeed);

  digitalWrite(motor2_IN3, HIGH); 
  digitalWrite(motor2_IN4, LOW);
  analogWrite(motor2_ENB, motorSpeed);
}

// RC카 오른쪽으로 회전 함수
void turnRight() {
  digitalWrite(motor1_IN1, HIGH); 
  digitalWrite(motor1_IN2, LOW);
  analogWrite(motor1_ENA, motorSpeed);

  digitalWrite(motor2_IN3, LOW); 
  digitalWrite(motor2_IN4, HIGH);
  analogWrite(motor2_ENB, motorSpeed);
}

// LCD 상태 업데이트 함수
void updateLcdStatus(String status) {
  lcd.setCursor(0, 1); // 두 번째 줄의 시작 (0열, 1행)
  // 이전 텍스트를 지우기 위해 공백으로 채움 (가장 긴 텍스트 길이에 맞춰)
  lcd.print("                "); // 16칸 공백
  lcd.setCursor(0, 1); // 다시 커서 설정
  lcd.print("Mode: " + status); // "Mode: " 접두사 붙여서 출력
}
        </code>code class="language-cpp">
        </pre>
      
코딩 용어 상세 설명:#include <LiquidCrystal_I2C.h>: I2C LCD 라이브러리를 포함합니다.LiquidCrystal_I2C lcd(0x27, 16, 2);: LCD 객체를 생성합니다. 주소는 반드시 1회차에서 확인한 주소로 변경하세요.updateLcdStatus(String status) 함수:RC카의 현재 상태를 받아 LCD 두 번째 줄에 표시하는 사용자 정의 함수입니다.lcd.setCursor(0, 1);로 두 번째 줄 시작으로 커서를 이동합니다.lcd.print("                ");로 현재 줄의 모든 내용을 공백으로 지웁니다. (새 텍스트가 이전 텍스트보다 짧을 때 잔상이 남지 않도록)lcd.setCursor(0, 1);로 다시 커서를 설정한 후, lcd.print("Mode: " + status);로 "Mode: " 접두사와 함께 전달받은 상태 메시지를 출력합니다.라인 트레이싱 로직(if/else if) 내 LCD 업데이트:각 조건문(if, else if, else) 안에서 updateLcdStatus("상태 메시지"); 함수를 호출하여 RC카가 어떤 동작을 하는지 LCD에 실시간으로 표시합니다.✅ 4. 결과 확인 및 최종 라인 트레이서 + LCD RC카 테스트회로를 정확히 연결하고 코드를 아두이노에 업로드합니다.RC카를 라인 트랙 위에 놓고 전원을 웁니다.RC카가 선을 따라 주행하면서 LCD에 "Mode: Go Straight", "Mode: Turn Left", "Mode: Turn Right", "Mode: Searching..." 등의 상태 메시지가 실시간으로 바뀌며 표시되는지 확인합니다.LCD 글자의 밝기나 명암이 잘 맞지 않으면 LCD 모듈의 가변 저항을 조절해 보세요.
⭐ 스스로 해보기!

RC카에 초음파 센서를 다시 연결하고, 장애물 감지 시 LCD에 "Obstacle Ahead!" 메시지를 표시하도록 해 보세요.
RC카가 일정 시간 동안 선을 찾지 못하면 LCD에 "Track Lost!" 메시지를 표시하고 멈추도록 기능을 추가해 보세요.
LCD 첫 번째 줄에 "RC Car v1.0" 같은 고정 메시지를 표시하고, 두 번째 줄에만 상태를 표시하도록 해 보세요.
스마트폰 앱과 연동하여 블루투스 수동 제어 모드일 때는 "Mode: Manual"을, 자율 주행 모드일 때는 "Mode: Auto"를 LCD에 표시해 보세요.

❓ 궁금증 해결 시간
오늘은 RC카에 LCD 모듈을 달아 RC카의 상태를 눈으로 직접 확인할 수 있게 만들었어요. 이제 RC카가 어떤 모드로 작동하는지, 어떤 상황에 처해있는지 쉽게 파악할 수 있게 되었죠? 시각적인 피드백은 로봇을 만들 때 매우 중요한 요소 중 하나입니다. 혹시 오늘 배운 내용 중 이해가 안 되는 부분이 있거나, 여러분의 RC카에 표시하고 싶은 다른 정보가 있다면 자유롭게 질문해주세요!축하합니다! 아두이노 RC카 만들기 프로젝트의 아홉 번째 주도 성공적으로 마쳤어요. LCD를 활용하여 RC카에 '얼굴'과 '정보'를 부여하는 중요한 단계를 완료했답니다. 이제 여러분의 RC카는 단순한 장난감을 넘어, 스스로 상태를 알리는 작은 로봇으로 진화하고 있어요! 다음 시간에는 여러분만의 RC카 몸체를 디자인하고 조립하는 시간을 가질 거예요. 오늘 배운 LCD 제어 기술을 잘 익혀서 다음 주에 멋진 차체에 LCD를 부착해 보세요!

</body>
</html>
